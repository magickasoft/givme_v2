!function($){var t=function(t,i){t.data("flipped",!0);var a="rotate"+t.data("axis");t.find(t.data("front")).css({transform:a+(t.data("reverse")?"(-180deg)":"(180deg)"),"z-index":"0"}),t.find(t.data("back")).css({transform:a+"(0deg)","z-index":"1"}),t.one(e(),function(){$(this).trigger("flip:done"),void 0!==i&&i.call(this)})},i=function(t,i){t.data("flipped",!1);var a="rotate"+t.data("axis");t.find(t.data("front")).css({transform:a+"(0deg)","z-index":"1"}),t.find(t.data("back")).css({transform:a+(t.data("reverse")?"(180deg)":"(-180deg)"),"z-index":"0"}),t.one(e(),function(){$(this).trigger("flip:done"),void 0!==i&&i.call(this)})},e=function(){var t,i=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in e)if(void 0!==i.style[t])return e[t]};$.fn.flip=function(e,s){return"function"==typeof e&&(s=e),this.each(function(){var n=$(this);if(void 0===e||"boolean"!=typeof e&&"string"!=typeof e)if(n.data("initiated"))!e||void 0===e.axis&&void 0===e.reverse||a.call(this,e,function(){n.trigger("flip:change"),void 0!==s&&s.call(this)});else{n.data("initiated",!0);var r=$.extend({axis:"y",reverse:!1,trigger:"click",speed:500,forceHeight:!1,forceWidth:!1,autoSize:!0,front:"auto",back:"auto"},e);"auto"==r.front?r.front=n.find(".front").length>0?".front":"div:first-child":"autostrict"==r.front&&(r.front="div:first-child"),"auto"==r.back?r.back=n.find(".back").length>0?".back":"div:first-child + div":"autostrict"==r.back&&(r.back="div:first-child + div"),n.data("reverse",r.reverse),n.data("axis",r.axis),n.data("front",r.front),n.data("back",r.back);var o="rotate"+("x"==r.axis.toLowerCase()?"x":"y"),d=2*n["outer"+("rotatex"==o?"Height":"Width")]();n.find(n.data("back")).css({transform:o+"("+(r.reverse?"180deg":"-180deg")+")"}),n.css({perspective:d,position:"relative"});var f=r.speed/1e3||.5,c=n.find(r.front).add(r.back,n);if(r.forceHeight?c.outerHeight(n.height()):r.autoSize&&c.css({height:"100%"}),r.forceWidth?c.outerWidth(n.width()):r.autoSize&&c.css({width:"100%"}),c.css({"backface-visibility":"hidden","transform-style":"preserve-3d",position:"absolute","z-index":"1"}),c.find("*").css({"backface-visibility":"hidden"}),n.find(n.data("back")).css({transform:o+"("+(r.reverse?"180deg":"-180deg")+")","z-index":"0"}),(window.chrome||window.Intl&&Intl.v8BreakIterator)&&"CSS"in window&&n.css({"-webkit-transform-style":"preserve-3d"}),setTimeout(function(){c.css({transition:"all "+f+"s ease-out"}),void 0!==s&&s.call(this)},20),"click"==r.trigger.toLowerCase())n.on($.fn.tap?"tap":"click",function(e){e||(e=window.event),n.find($(e.target).closest('button, a, input[type="submit"]')).length||(n.data("flipped")?i(n):t(n))});else if("hover"==r.trigger.toLowerCase()){var h=function(){n.unbind("mouseleave",v),t(n),setTimeout(function(){n.bind("mouseleave",v),n.is(":hover")||i(n)},r.speed+150)},v=function(){i(n)};n.mouseenter(h),n.mouseleave(v)}}else"toggle"==e&&(e=!n.data("flipped")),e?t(n,s):i(n,s)}),this};var a=function(t,i){var e=!1;if(void 0!==t.axis&&$(this).data("axis")!=t.axis.toLowerCase()&&($(this).data("axis",t.axis.toLowerCase()),e=!0),void 0!==t.reverse&&$(this).data("reverse")!=t.reverse&&($(this).data("reverse",t.reverse),e=!0),e){var a=$(this).find($(this).data("front")).add($(this).data("back"),$(this)),s=a.css("transition");a.css({transition:"none"});var n="rotate"+$(this).data("axis");$(this).data("flipped")?$(this).find($(this).data("front")).css({transform:n+($(this).data("reverse")?"(-180deg)":"(180deg)"),"z-index":"0"}):$(this).find($(this).data("back")).css({transform:n+"("+($(this).data("reverse")?"180deg":"-180deg")+")","z-index":"0"}),setTimeout(function(){a.css({transition:s}),i.call(this)}.bind(this),0)}else setTimeout(i.bind(this),0)}}(jQuery);